<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulacro de Ciberseguridad - Modo Desaf√≠o</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .option-btn:disabled {
            cursor: not-allowed;
        }
        .correct {
            background-color: #22c55e !important;
            color: white;
            border-color: #16a3a;
        }
        .incorrect {
            background-color: #ef4444 !important;
            color: white;
            border-color: #dc2626;
        }
        .review-correct {
            border-left: 4px solid #22c55e;
        }
        .review-incorrect {
            border-left: 4px solid #ef4444;
        }
        .points-popup {
            animation: fadeUp 1.5s ease-out forwards;
        }
        @keyframes fadeUp {
            0% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-30px); }
        }
    </style>
</head>
<body class="bg-slate-900 text-white flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-3xl mx-auto bg-slate-800 p-6 sm:p-8 rounded-2xl shadow-2xl border border-slate-700">
        
        <!-- Pantalla de Inicio -->
        <div id="start-screen">
            <h1 class="text-3xl sm:text-4xl font-bold text-center text-cyan-400 mb-4">üõ°Ô∏è Desaf√≠o de Ciberseguridad üõ°Ô∏è</h1>
            <p class="text-slate-300 text-center mb-2">¬°Pon a prueba tus habilidades! Responde r√°pido para ganar m√°s puntos y consigue rachas de aciertos para multiplicar tu puntaje.</p>
            <p class="text-slate-400 text-center text-sm mb-8">Tienes 30 segundos por pregunta.</p>
            <button id="start-btn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105">
                Iniciar Desaf√≠o
            </button>
        </div>

        <!-- Pantalla del Quiz -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4 flex-wrap gap-2">
                <h2 class="text-xl sm:text-2xl font-bold text-cyan-400">Pregunta <span id="question-number"></span>/63</h2>
                <div class="flex items-center gap-4">
                    <div id="timer" class="text-lg font-bold bg-slate-700 px-4 py-2 rounded-lg w-20 text-center">
                        <span id="time-left">30</span>s
                    </div>
                </div>
            </div>
            
            <!-- Barra de Puntuaci√≥n y Racha -->
            <div class="flex justify-between items-center mb-4 bg-slate-900 p-2 rounded-lg">
                <div class="text-lg font-semibold px-4 py-2 rounded-lg">Puntos: <span id="score">0</span></div>
                <div id="streak-indicator" class="text-lg font-bold text-orange-400 px-4 py-2 rounded-lg transition-all duration-300 scale-0">üî• Racha x<span id="streak-counter"></span></div>
                 <div id="points-earned-popup" class="points-popup absolute right-10 top-20 text-lg font-bold text-green-400 opacity-0"></div>
            </div>

            <div class="bg-slate-900 p-4 rounded-lg mb-6">
                <p id="question-text" class="text-lg sm:text-xl text-slate-200 leading-relaxed"></p>
            </div>
    
            <div id="options-container" class="space-y-3"></div>
            
            <div id="feedback-container" class="hidden mt-4 p-4 bg-slate-900 rounded-lg">
                <p id="feedback-text" class="text-slate-300"></p>
            </div>
    
            <div class="mt-8 text-right">
                <button id="next-btn" class="bg-gray-500 cursor-not-allowed text-white font-bold py-2 px-6 rounded-lg transition-colors" disabled>Siguiente</button>
            </div>
        </div>

        <!-- Pantalla de Resultados -->
        <div id="result-screen" class="hidden text-center">
            <h2 class="text-3xl font-bold text-cyan-400 mb-4">¬°Desaf√≠o completado!</h2>
            <p class="text-xl text-slate-300 mb-6">Tu puntuaci√≥n final es:</p>
            <div class="text-6xl font-bold text-white mb-8" id="final-score"></div>
            <p class="text-slate-400 mb-8" id="feedback-message"></p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button id="restart-btn" class="w-full sm:w-auto bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105">
                    Intentar de Nuevo
                </button>
                <button id="review-btn" class="w-full sm:w-auto bg-slate-600 hover:bg-slate-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-transform transform hover:scale-105">
                    Revisar Respuestas
                </button>
            </div>
        </div>
        
        <!-- Pantalla de Revisi√≥n -->
        <div id="review-screen" class="hidden">
            <h2 class="text-3xl font-bold text-cyan-400 mb-6 text-center">Revisi√≥n de Respuestas</h2>
            <div id="review-container" class="space-y-6 max-h-[70vh] overflow-y-auto pr-2"></div>
            <div class="mt-8 text-center">
                <button id="back-to-results-btn" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-2 px-6 rounded-lg">
                    Volver a Resultados
                </button>
            </div>
        </div>

    </div>

    <script>
        // --- PREGUNTAS DEL SIMULACRO CON EXPLICACIONES ---
        const questions = [
            { question: "Una empresa de redes sociales utiliza los datos de geolocalizaci√≥n de sus usuarios para vender espacios publicitarios a negocios locales. Aunque esto es rentable, ¬øcu√°l es la principal implicaci√≥n √©tica que la empresa debe considerar?", options: ["La eficiencia t√©cnica de sus algoritmos de recomendaci√≥n.", "El potencial impacto en la privacidad de los usuarios al revelar sus patrones de movimiento.", "Los costos de almacenamiento de grandes vol√∫menes de datos de geolocalizaci√≥n."], answer: "El potencial impacto en la privacidad de los usuarios al revelar sus patrones de movimiento.", explanation: "La privacidad es el principal derecho afectado, ya que se exponen h√°bitos y rutinas personales." },
            { question: "Una finca cafetalera en Costa Rica instala sensores en sus cultivos para optimizar el riego, unificando datos del clima, maquinaria y trabajadores. ¬øQu√© concepto describe mejor esta implementaci√≥n?", options: ["Computaci√≥n en la nube.", "Internet de Todo (IdT).", "Big Data."], answer: "Internet de Todo (IdT).", explanation: "El IdT conecta personas, procesos, datos y objetos (sensores, maquinaria), que es exactamente lo que describe el escenario." },
            { question: "Un hospital sufre un ataque de ransomware y los expedientes m√©dicos quedan inaccesibles. ¬øCu√°l es el impacto m√°s cr√≠tico sobre el principio de Disponibilidad?", options: ["Los datos m√©dicos podr√≠an ser alterados.", "La informaci√≥n confidencial podr√≠a ser revelada.", "Los doctores no pueden acceder a los historiales para tratar a los pacientes."], answer: "Los doctores no pueden acceder a los historiales para tratar a los pacientes.", explanation: "El ransomware bloquea el acceso a los datos, impidiendo que est√©n disponibles para quienes los necesitan (los doctores)." },
            { question: "Un analista debe proteger una base de datos de clientes. ¬øCu√°l es un procedimiento fundamental para el mantenimiento seguro de esos datos?", options: ["Realizar copias de seguridad peri√≥dicas y almacenarlas en una ubicaci√≥n segura y aislada.", "Aumentar la capacidad del disco duro.", "Compartir el acceso con todos los departamentos."], answer: "Realizar copias de seguridad peri√≥dicas y almacenarlas en una ubicaci√≥n segura y aislada.", explanation: "Las copias de seguridad garantizan que los datos se puedan restaurar en caso de p√©rdida o ataque, asegurando su integridad y disponibilidad." },
            { question: "Un usuario recibe un correo falso de su banco que lo redirige a un sitio web id√©ntico para robar sus credenciales. ¬øQu√© tipo de ataque es este?", options: ["Spyware.", "Ataque de denegaci√≥n de servicio (DDoS).", "Phishing."], answer: "Phishing.", explanation: "Es un ataque de ingenier√≠a social que suplanta la identidad de una entidad de confianza para robar credenciales." },
            { question: "Un administrador configura permisos para que solo el departamento de finanzas pueda acceder a los informes de presupuesto. ¬øQu√© t√©cnica de control de acceso se est√° aplicando?", options: ["Cifrado de datos en tr√°nsito.", "Autenticaci√≥n de dos factores (2FA).", "Listas de Control de Acceso (ACL)."], answer: "Listas de Control de Acceso (ACL).", explanation: "Las Listas de Control de Acceso (ACL) son reglas que definen qu√© usuarios pueden acceder a qu√© recursos." },
            { question: "En programaci√≥n orientada a objetos, ¬øc√≥mo se llama la plantilla o 'molde' para crear objetos con propiedades y comportamientos comunes?", options: ["Funci√≥n.", "Clase.", "Variable."], answer: "Clase.", explanation: "Una clase es la plantilla o plano a partir del cual se crean objetos individuales en la programaci√≥n orientada a objetos." },
            { question: "Una organizaci√≥n implementa un conjunto de pol√≠ticas, procedimientos y controles para gestionar sistem√°ticamente su informaci√≥n sensible. Este enfoque integral es conocido como:", options: ["Plan de Recuperaci√≥n de Desastres (DRP).", "Sistema de Gesti√≥n de Seguridad de la Informaci√≥n (SGSI).", "An√°lisis de Vulnerabilidades."], answer: "Sistema de Gesti√≥n de Seguridad de la Informaci√≥n (SGSI).", explanation: "Un SGSI (como el basado en ISO 27001) es un marco de gesti√≥n completo para la seguridad de la informaci√≥n." },
            { question: "Un programador necesita ejecutar una acci√≥n repetidamente mientras una condici√≥n sea verdadera (ej. solicitar una contrase√±a hasta que sea correcta). ¬øQu√© herramienta de control de flujo deber√≠a utilizar?", options: ["Una estructura condicional (if-else).", "Un bucle (while o for).", "Un operador de asignaci√≥n."], answer: "Un bucle (while o for).", explanation: "Los bucles (while, for) est√°n dise√±ados espec√≠ficamente para repetir un bloque de c√≥digo mientras se cumpla una condici√≥n." },
            { question: "Para evitar que un programa se cierre al intentar dividir por cero, ¬øqu√© estructura se usa para 'atrapar' y manejar el error de forma controlada?", options: ["Un bucle `for`.", "Una declaraci√≥n `import`.", "Un bloque `try-except`."], answer: "Un bloque `try-except`.", explanation: "Este bloque permite 'intentar' ejecutar un c√≥digo que podr√≠a fallar y 'excepto' (atrapar) el error para manejarlo sin que el programa se caiga." },
            { question: "Una empresa usa un software para leer facturas en PDF e ingresarlas autom√°ticamente en el sistema contable. Este proceso que imita acciones humanas repetitivas es un ejemplo de:", options: ["Inteligencia Artificial (IA).", "Automatizaci√≥n Rob√≥tica de Procesos (RPA).", "Aprendizaje Autom√°tico (Machine Learning)."], answer: "Automatizaci√≥n Rob√≥tica de Procesos (RPA).", explanation: "La RPA se especializa en automatizar tareas repetitivas y basadas en reglas que normalmente realiza un humano." },
            { question: "¬øCu√°l es uno de los principales beneficios de implementar la Automatizaci√≥n Rob√≥tica de Procesos (RPA)?", options: ["Aumento de la creatividad en los empleados.", "Reducci√≥n de errores humanos y aumento de la eficiencia.", "Mejora de las relaciones interpersonales."], answer: "Reducci√≥n de errores humanos y aumento de la eficiencia.", explanation: "La principal ventaja de la RPA es eliminar el error humano en tareas mon√≥tonas y aumentar la velocidad y eficiencia." },
            { question: "Un usuario desea un sistema operativo que le permita acceder y modificar libremente el c√≥digo fuente. ¬øCu√°l de estos cumple con esa caracter√≠stica?", options: ["Windows.", "macOS.", "Linux."], answer: "Linux.", explanation: "Linux es el sistema operativo de c√≥digo abierto m√°s conocido, permitiendo a cualquiera ver, modificar y distribuir su c√≥digo fuente." },
            { question: "Una aplicaci√≥n dise√±ada para 64 bits se intenta instalar en un sistema operativo de 32 bits. ¬øQu√© suceder√°?", options: ["Funcionar√° m√°s lentamente.", "El sistema operativo no permitir√° la instalaci√≥n por incompatibilidad.", "Se instalar√° con funciones limitadas."], answer: "El sistema operativo no permitir√° la instalaci√≥n por incompatibilidad.", explanation: "Una aplicaci√≥n de 64 bits requiere una arquitectura de 64 bits para funcionar; no es compatible con sistemas de 32 bits." },
            { question: "En el ciclo de vida de un sistema, la fase donde se identifican y eval√∫an amenazas y vulnerabilidades antes de la producci√≥n se conoce como:", options: ["Mantenimiento.", "An√°lisis de riesgos.", "Despliegue."], answer: "An√°lisis de riesgos.", explanation: "Esta fase es crucial para identificar proactivamente las debilidades del sistema antes de que sea expuesto a amenazas reales." },
            { question: "Un desarrollador implementa un Web Application Firewall (WAF) para proteger contra ataques como SQL Injection. ¬øA qu√© capa de protecci√≥n corresponde esta medida?", options: ["Capa de Red.", "Capa de Sistema Operativo.", "Capa de Aplicaci√≥n."], answer: "Capa de Aplicaci√≥n.", explanation: "Un WAF opera en la Capa 7 (Aplicaci√≥n) del modelo OSI, inspeccionando el tr√°fico HTTP para proteger las aplicaciones web." },
            { question: "Una startup contrata un servicio en la nube que le provee infraestructura, sistema operativo y entorno de ejecuci√≥n listos para desplegar su app. ¬øQu√© modelo de servicio es?", options: ["Infraestructura como Servicio (IaaS).", "Plataforma como Servicio (PaaS).", "Software como Servicio (SaaS)."], answer: "Plataforma como Servicio (PaaS).", explanation: "PaaS ofrece una plataforma completa (infraestructura + entorno de ejecuci√≥n) para que los desarrolladores se centren solo en su c√≥digo." },
            { question: "Una empresa utiliza Microsoft 365 para correo y ofim√°tica, accediendo a trav√©s de un navegador web y pagando una suscripci√≥n. ¬øQu√© tipo de servicio en la nube es?", options: ["IaaS.", "PaaS.", "SaaS."], answer: "SaaS.", explanation: "Software como Servicio (SaaS) son aplicaciones listas para usar a las que se accede por internet, como Microsoft 365 o Gmail." },
            { question: "En el modelo de responsabilidad compartida de la nube, ¬øde qu√© es siempre responsable el cliente, incluso en un modelo SaaS?", options: ["La seguridad f√≠sica del centro de datos.", "La gesti√≥n y protecci√≥n de sus propios datos y el control de acceso de sus usuarios.", "El mantenimiento del hardware del servidor."], answer: "La gesti√≥n y protecci√≥n de sus propios datos y el control de acceso de sus usuarios.", explanation: "El cliente siempre es responsable de sus datos y de qui√©n accede a ellos, sin importar el modelo de servicio." },
            { question: "La tendencia de desarrollo seguro 'Shift Left' se refiere a:", options: ["Mover las pruebas de seguridad al final del ciclo.", "Integrar la seguridad en las etapas m√°s tempranas del desarrollo.", "Desplazar la responsabilidad de la seguridad solo a operaciones."], answer: "Integrar la seguridad en las etapas m√°s tempranas del desarrollo.", explanation: "Significa 'desplazar a la izquierda' las pr√°cticas de seguridad en la l√≠nea de tiempo del desarrollo, integr√°ndolas desde el inicio." },
            { question: "Aplicando la Ley de Murphy, un administrador instala un UPS y un generador de respaldo. ¬øQu√© principio de seguridad est√° reforzando?", options: ["Confidencialidad.", "Disponibilidad.", "Integridad."], answer: "Disponibilidad.", explanation: "Las UPS y generadores aseguran que el sistema siga funcionando (est√© disponible) incluso si falla la energ√≠a principal." },
            { question: "Seg√∫n OWASP, ¬øc√≥mo se conoce el riesgo de incluir datos de usuario en una consulta a la base de datos sin validarlos, permitiendo manipularla?", options: ["Cross-Site Scripting (XSS).", "Falsificaci√≥n de Solicitudes en Sitios Cruzados (CSRF).", "Inyecci√≥n SQL (SQLi)."], answer: "Inyecci√≥n SQL (SQLi).", explanation: "Este ataque consiste en 'inyectar' c√≥digo SQL malicioso a trav√©s de la entrada del usuario para manipular la base de datos." },
            { question: "Un supermercado analiza historiales de compra para descubrir patrones ocultos (ej. quienes compran pa√±ales tambi√©n compran cerveza). ¬øQu√© proceso se est√° utilizando?", options: ["Inteligencia de Negocios (BI).", "Miner√≠a de Datos.", "Almacenamiento de Datos (Data Warehousing)."], answer: "Miner√≠a de Datos.", explanation: "Es el proceso de descubrir patrones y correlaciones en grandes conjuntos de datos para predecir resultados." },
            { question: "Un gerente usa dashboards con gr√°ficos en tiempo real para visualizar ventas e inventario y tomar decisiones informadas. Esto es un componente de:", options: ["Inteligencia de Negocios (BI).", "Seguridad de bases de datos.", "Miner√≠a de texto."], answer: "Inteligencia de Negocios (BI).", explanation: "BI se enfoca en usar datos para tomar mejores decisiones de negocio, a menudo a trav√©s de dashboards y reportes." },
            { question: "Un atacante accede a una base de datos porque usaba la contrase√±a por defecto ('admin123'). Esta es una vulnerabilidad de:", options: ["Configuraciones de seguridad d√©biles o por defecto.", "Inyecci√≥n SQL.", "Cifrado de datos insuficiente."], answer: "Configuraciones de seguridad d√©biles o por defecto.", explanation: "Usar credenciales por defecto es una de las vulnerabilidades de configuraci√≥n m√°s comunes y peligrosas." },
            { question: "¬øCu√°l es una pr√°ctica recomendada para la gesti√≥n de contrase√±as y la defensa activa?", options: ["Reutilizar la misma contrase√±a en m√∫ltiples servicios.", "Usar un gestor de contrase√±as para crear y almacenar claves complejas y √∫nicas.", "Escribir las contrase√±as en un papel y pegarlo en el monitor."], answer: "Usar un gestor de contrase√±as para crear y almacenar claves complejas y √∫nicas.", explanation: "Un gestor de contrase√±as es la herramienta recomendada para crear contrase√±as fuertes y √∫nicas sin tener que memorizarlas." },
            { question: "Un usuario desea proteger su computadora port√°til contra accesos no autorizados. ¬øCu√°l de las siguientes estrategias combina m√∫ltiples capas para una seguridad efectiva?", options: ["Utilizar √∫nicamente un protector de pantalla con contrase√±a.", "Instalar un software antivirus, mantener el sistema operativo actualizado y configurar un firewall personal.", "Aumentar la memoria RAM del equipo para mejorar su rendimiento."], answer: "Instalar un software antivirus, mantener el sistema operativo actualizado y configurar un firewall personal.", explanation: "La seguridad efectiva se basa en capas (defensa en profundidad). Combinar antivirus, actualizaciones y firewall protege contra diferentes tipos de amenazas." },
            { question: "Para proteger la informaci√≥n de una tarjeta de cr√©dito durante una compra en l√≠nea, se utiliza un protocolo que cifra la comunicaci√≥n. ¬øCu√°l es esta tecnolog√≠a?", options: ["El protocolo FTP para la transferencia de archivos.", "El protocolo TLS/SSL, identificado por el 'https' en la URL.", "El direccionamiento IP para identificar el equipo."], answer: "El protocolo TLS/SSL, identificado por el 'https' en la URL.", explanation: "TLS/SSL (HTTPS) es el est√°ndar para cifrar la comunicaci√≥n web, asegurando la confidencialidad e integridad de los datos en tr√°nsito." },
            { question: "Un administrador de Linux aplica el principio de 'm√≠nimo privilegio'. ¬øQu√© acci√≥n aplicar√≠a para lograrlo?", options: ["Otorgar a todos los usuarios permisos de 'root'.", "Configurar permisos de lectura, escritura y ejecuci√≥n de forma granular para cada grupo de usuarios.", "Desactivar todas las actualizaciones autom√°ticas del sistema."], answer: "Configurar permisos de lectura, escritura y ejecuci√≥n de forma granular para cada grupo de usuarios.", explanation: "El principio de m√≠nimo privilegio consiste en dar a los usuarios solo los permisos que necesitan para su trabajo, y la configuraci√≥n granular lo permite." },
            { question: "Una empresa implementa un sistema SIEM. ¬øCu√°l es el primer paso crucial en su configuraci√≥n?", options: ["Crear reglas de correlaci√≥n complejas.", "Configurar los dispositivos de red para que env√≠en sus registros al SIEM.", "Generar informes ejecutivos."], answer: "Configurar los dispositivos de red para que env√≠en sus registros al SIEM.", explanation: "Un SIEM necesita datos para funcionar. El primer paso es siempre la recolecci√≥n de logs desde las fuentes de datos (firewalls, servidores, etc.)." },
            { question: "Tras un incidente, un analista crea una copia exacta, bit a bit, del disco duro afectado para analizarla sin alterar la evidencia original. ¬øQu√© t√©cnica se est√° aplicando?", options: ["An√°lisis de vulnerabilidades.", "Creaci√≥n de una imagen forense.", "Auditor√≠a de seguridad automatizada."], answer: "Creaci√≥n de una imagen forense.", explanation: "Una imagen forense es una copia bit a bit que permite un an√°lisis seguro sin comprometer la integridad de la evidencia original." },
            { question: "Un desarrollador necesita probar su aplicaci√≥n en Windows, Ubuntu y macOS usando una sola computadora port√°til. ¬øQu√© tecnolog√≠a se lo permite?", options: ["La computaci√≥n en la nube.", "El arranque dual (dual-boot).", "La virtualizaci√≥n, utilizando un hipervisor como VirtualBox o VMware."], answer: "La virtualizaci√≥n, utilizando un hipervisor como VirtualBox o VMware.", explanation: "La virtualizaci√≥n permite crear m√°quinas virtuales, que son sistemas operativos completos que se ejecutan de forma aislada sobre el sistema operativo anfitri√≥n." },
            { question: "¬øCu√°l es la relaci√≥n principal entre la computaci√≥n en la nube y el uso de dispositivos port√°tiles en un entorno empresarial?", options: ["Permite a los usuarios acceder a aplicaciones y datos desde sus port√°tiles en cualquier lugar.", "Aumenta la capacidad de procesamiento del hardware del equipo port√°til.", "Es un requisito para poder instalar un sistema operativo."], answer: "Permite a los usuarios acceder a aplicaciones y datos desde sus port√°tiles en cualquier lugar.", explanation: "La nube centraliza los datos y servicios, haci√©ndolos accesibles desde cualquier dispositivo con internet, lo que potencia la movilidad." },
            { question: "Una PYME con 15 empleados en la misma oficina necesita compartir una impresora y archivos. ¬øQu√© tipo de red es la m√°s adecuada?", options: ["Una Red de √Årea Amplia (WAN).", "Una Red de √Årea Local (LAN).", "Una Red de √Årea Metropolitana (MAN)."], answer: "Una Red de √Årea Local (LAN).", explanation: "Una LAN (Red de √Årea Local) est√° dise√±ada para cubrir un √°rea geogr√°fica peque√±a como una oficina, siendo ideal para compartir recursos locales." },
            { question: "¬øQu√© dispositivo es fundamental para interconectar m√∫ltiples redes y reenviar paquetes entre una LAN e internet (WAN)?", options: ["Switch.", "Hub.", "Router."], answer: "Router.", explanation: "La funci√≥n principal de un router es enrutar (dirigir) el tr√°fico entre diferentes redes bas√°ndose en las direcciones IP." },
            { question: "¬øCu√°l es la funci√≥n principal de los protocolos de red como TCP/IP?", options: ["Proteger la red contra malware.", "Establecer un conjunto de reglas y est√°ndares para que los dispositivos puedan comunicarse.", "Aumentar la velocidad f√≠sica de la conexi√≥n."], answer: "Establecer un conjunto de reglas y est√°ndares para que los dispositivos puedan comunicarse.", explanation: "Los protocolos son como un idioma com√∫n que asegura que todos los dispositivos en una red puedan entenderse y comunicarse de manera ordenada." },
            { question: "Un t√©cnico dice que un problema est√° en la 'Capa 3, la del direccionamiento l√≥gico'. ¬øA qu√© capa del modelo OSI se refiere y qu√© protocolo opera en ella?", options: ["Capa 2 (Enlace de Datos), Protocolo Ethernet.", "Capa 3 (Red), Protocolo IP.", "Capa 4 (Transporte), Protocolo TCP."], answer: "Capa 3 (Red), Protocolo IP.", explanation: "La Capa 3 (Red) del modelo OSI es responsable del direccionamiento l√≥gico y el enrutamiento, y su protocolo principal es el Protocolo de Internet (IP)." },
            { question: "La direcci√≥n MAC (Media Access Control) es un identificador √∫nico para la tarjeta de red. ¬øEn qu√© capa del modelo OSI opera?", options: ["Capa 1 (F√≠sica).", "Capa 2 (Enlace de Datos).", "Capa 3 (Red)."], answer: "Capa 2 (Enlace de Datos).", explanation: "Las direcciones MAC se utilizan en la Capa 2 (Enlace de Datos) para la entrega de tramas en la red local." },
            { question: "En una red Ethernet, cuando un switch recibe una trama destinada a una direcci√≥n MAC que ya conoce, ¬øqu√© acci√≥n realiza?", options: ["Env√≠a la trama a todos los puertos (broadcast).", "Descarta la trama.", "Env√≠a la trama √∫nicamente al puerto donde est√° conectado el dispositivo con esa MAC."], answer: "Env√≠a la trama √∫nicamente al puerto donde est√° conectado el dispositivo con esa MAC.", explanation: "Un switch inteligente mantiene una tabla de direcciones MAC para enviar el tr√°fico solo al puerto necesario, optimizando la red." },
            { question: "Una computadora (Host A) conoce la IP del Host B en la misma LAN, pero necesita su direcci√≥n MAC. ¬øQu√© protocolo utiliza para descubrirla?", options: ["DHCP (Protocolo de Configuraci√≥n Din√°mica de Host).", "DNS (Sistema de Nombres de Dominio).", "ARP (Protocolo de Resoluci√≥n de Direcciones)."], answer: "ARP (Protocolo de Resoluci√≥n de Direcciones).", explanation: "ARP traduce direcciones de Capa 3 (IP) a direcciones de Capa 2 (MAC) dentro de una red local." },
            { question: "¬øCu√°l es la principal ventaja de IPv6 sobre IPv4?", options: ["Es m√°s r√°pido.", "Proporciona un espacio de direcciones mucho m√°s grande.", "Es m√°s sencillo de configurar manualmente."], answer: "Proporciona un espacio de direcciones mucho m√°s grande.", explanation: "El agotamiento de las direcciones IPv4 fue la principal raz√≥n para crear IPv6, que ofrece una cantidad casi ilimitada de direcciones." },
            { question: "Un servidor necesita enviar un paquete a todos los dispositivos dentro de su misma subred. ¬øQu√© tipo de direcci√≥n IPv4 debe usar como destino?", options: ["Unicast.", "Multicast.", "Broadcast."], answer: "Broadcast.", explanation: "Una direcci√≥n de broadcast est√° dise√±ada para que el paquete sea recibido y procesado por todos los hosts en la red local." },
            { question: "Una aplicaci√≥n de streaming de video en vivo prioriza la velocidad sobre la fiabilidad. ¬øQu√© protocolo de transporte es m√°s adecuado?", options: ["TCP, porque es orientado a la conexi√≥n y garantiza la entrega.", "UDP, porque no es orientado a la conexi√≥n y tiene menor sobrecarga.", "ARP, porque resuelve direcciones f√≠sicas."], answer: "UDP, porque no es orientado a la conexi√≥n y tiene menor sobrecarga.", explanation: "UDP es ideal para aplicaciones en tiempo real (video, voz) donde una peque√±a p√©rdida de paquetes es aceptable a cambio de una mayor velocidad." },
            { question: "¬øQu√© protocolo de la capa de aplicaci√≥n traduce nombres de dominio (www.google.com) en direcciones IP?", options: ["HTTP (Protocolo de Transferencia de Hipertexto).", "DNS (Sistema de Nombres de Dominio).", "SMTP (Protocolo para Transferencia Simple de Correo)."], answer: "DNS (Sistema de Nombres de Dominio).", explanation: "DNS funciona como la agenda telef√≥nica de Internet, asociando nombres f√°ciles de recordar con las direcciones IP num√©ricas." },
            { question: "¬øCu√°l es la diferencia fundamental entre un hacker √©tico (sombrero blanco) y un ciberdelincuente (sombrero negro)?", options: ["Las herramientas que utilizan.", "El permiso expl√≠cito de la organizaci√≥n y el objetivo de mejorar las defensas.", "El nivel de habilidad t√©cnica."], answer: "El permiso expl√≠cito de la organizaci√≥n y el objetivo de mejorar las defensas.", explanation: "La √©tica y la legalidad, definidas por el permiso y la intenci√≥n, son la l√≠nea divisoria clave, no las herramientas ni la habilidad." },
            { question: "Un hacker √©tico est√° en la fase de 'Escaneo y Enumeraci√≥n'. ¬øQu√© actividad estar√≠a realizando?", options: ["Recopilar informaci√≥n pasivamente de fuentes p√∫blicas como el sitio web de la empresa.", "Intentar explotar una vulnerabilidad para ganar acceso a un sistema.", "Utilizar herramientas como Nmap para descubrir puertos abiertos, servicios en ejecuci√≥n y sistemas activos en la red del objetivo."], answer: "Utilizar herramientas como Nmap para descubrir puertos abiertos, servicios en ejecuci√≥n y sistemas activos en la red del objetivo.", explanation: "Esta fase implica interactuar activamente con el objetivo para mapear la red e identificar posibles puntos de entrada." },
            { question: "Una empresa instala paneles solares y cambia su iluminaci√≥n a LED. Estas acciones est√°n orientadas a cumplir con pol√≠ticas de:", options: ["La seguridad f√≠sica de las instalaciones.", "El desarrollo energ√©tico sostenible y la eficiencia energ√©tica.", "La gesti√≥n de la cadena de suministro."], answer: "El desarrollo energ√©tico sostenible y la eficiencia energ√©tica.", explanation: "Ambas medidas buscan reducir el consumo de energ√≠a y utilizar fuentes m√°s limpias, lo cual es la base de la sostenibilidad energ√©tica." },
            { question: "Si un servidor consume 500 Watts y opera durante 10 horas, ¬øcu√°l es su consumo energ√©tico en kilowatts-hora (kWh)?", options: ["50 kWh.", "5 kWh.", "0.5 kWh."], answer: "5 kWh.", explanation: "C√°lculo: (500 Watts / 1000) = 0.5 kW. Luego, 0.5 kW * 10 horas = 5 kWh." },
            { question: "Un t√©cnico necesita acceder a la interfaz de l√≠nea de comandos (CLI) de un switch Cisco nuevo para realizar su configuraci√≥n inicial. ¬øQu√© m√©todo de conexi√≥n utilizar√≠a com√∫nmente?", options: ["Acceder a trav√©s de una direcci√≥n IP usando Telnet.", "Usar un cable de consola conectado directamente al puerto de consola del switch y a un puerto serial/USB de la computadora.", "Conectarse a la red Wi-Fi que el switch emite por defecto."], answer: "Usar un cable de consola conectado directamente al puerto de consola del switch y a un puerto serial/USB de la computadora.", explanation: "La conexi√≥n por consola es el m√©todo est√°ndar para la configuraci√≥n inicial 'fuera de banda', ya que no requiere configuraci√≥n de red previa." },
            { question: "En una red conmutada (switched), un switch de Capa 2 toma decisiones de reenv√≠o de tramas bas√°ndose principalmente en:", options: ["Direcciones IP de destino.", "Direcciones MAC de destino.", "N√∫meros de puerto TCP/UDP."], answer: "Direcciones MAC de destino.", explanation: "Los switches de Capa 2 operan en la capa de enlace de datos, utilizando direcciones f√≠sicas (MAC) para conmutar tramas en la LAN." },
            { question: "Dos computadoras en diferentes VLANs (VLAN 10 y VLAN 20) no pueden comunicarse entre s√≠. La red utiliza un switch de Capa 3 para el enrutamiento. ¬øCu√°l es la causa m√°s probable del problema?", options: ["El protocolo Spanning Tree ha bloqueado uno de los puertos.", "No se ha configurado correctamente el enrutamiento entre VLANs (Inter-VLAN routing) en el switch de Capa 3.", "Las computadoras tienen m√°scaras de subred incorrectas."], answer: "No se ha configurado correctamente el enrutamiento entre VLANs (Inter-VLAN routing) en el switch de Capa 3.", explanation: "Para que diferentes VLANs se comuniquen, se requiere un dispositivo de Capa 3 (como un switch L3) que enrute el tr√°fico entre ellas (Inter-VLAN routing)." },
            { question: "¬øCu√°l es el prop√≥sito principal del Protocolo de √Årbol de Expansi√≥n (Spanning Tree Protocol - STP) en una red conmutada?", options: ["Aumentar la velocidad de transmisi√≥n de datos en la red.", "Prevenir bucles de conmutaci√≥n (switching loops) en topolog√≠as de red redundantes.", "Asignar direcciones IP a los dispositivos de la red."], answer: "Prevenir bucles de conmutaci√≥n (switching loops) en topolog√≠as de red redundantes.", explanation: "STP deshabilita l√≥gicamente los enlaces redundantes para crear una topolog√≠a libre de bucles, evitando as√≠ tormentas de broadcast." },
            { question: "Un dispositivo se conecta a una red y env√≠a un mensaje DHCPDISCOVER para obtener una direcci√≥n IP. ¬øQu√© dispositivo de red es el responsable de responder con un mensaje DHCPOFFER que contiene una direcci√≥n IP disponible?", options: ["El Gateway o puerta de enlace.", "El Servidor DNS.", "El Servidor DHCP."], answer: "El Servidor DHCP.", explanation: "El proceso DORA (Discover, Offer, Request, Acknowledge) de DHCP comienza con el cliente buscando (Discover) un servidor DHCP, que luego responde con una oferta (Offer)." },
            { question: "Una caracter√≠stica distintiva de la configuraci√≥n de direcciones en IPv6 es que un dispositivo puede autoconfigurar una direcci√≥n IP sin necesidad de un servidor DHCP. ¬øC√≥mo se llama este proceso?", options: ["Configuraci√≥n Est√°tica.", "Autoconfiguraci√≥n de Direcci√≥n sin Estado (SLAAC).", "Traducci√≥n de Direcciones de Red (NAT)."], answer: "Autoconfiguraci√≥n de Direcci√≥n sin Estado (SLAAC).", explanation: "SLAAC permite a los dispositivos IPv6 crear su propia direcci√≥n global √∫nica combinando el prefijo de red del router con su propia ID de interfaz." },
            { question: "Un administrador de red quiere mitigar ataques de suplantaci√≥n de MAC (MAC spoofing) y evitar que dispositivos no autorizados se conecten a los puertos de un switch. ¬øQu√© caracter√≠stica de seguridad del switch deber√≠a implementar?", options: ["VLANs (Redes de √Årea Local Virtuales).", "Port Security (Seguridad de Puertos).", "EtherChannel (Agregaci√≥n de Enlaces)."], answer: "Port Security (Seguridad de Puertos).", explanation: "Port Security permite restringir el acceso a un puerto de switch a direcciones MAC espec√≠ficas, bloqueando cualquier otro dispositivo." },
            { question: "¬øCu√°l es el protocolo de seguridad m√°s robusto y recomendado actualmente para proteger una red Wi-Fi?", options: ["WEP (Wired Equivalent Privacy).", "WPA (Wi-Fi Protected Access).", "WPA3 (Wi-Fi Protected Access 3)."], answer: "WPA3 (Wi-Fi Protected Access 3).", explanation: "WPA3 es el est√°ndar m√°s reciente y seguro, ofreciendo una protecci√≥n superior contra ataques de fuerza bruta y un cifrado m√°s fuerte que sus predecesores." },
            { question: "Un sistema de detecci√≥n de intrusiones (IDS) tiene dificultades para analizar el tr√°fico de red en busca de patrones maliciosos porque la mayor parte del tr√°fico est√° cifrado con TLS. ¬øQu√© impacto tiene la criptograf√≠a en este escenario?", options: ["La criptograf√≠a mejora la capacidad del IDS para detectar amenazas.", "La criptograf√≠a oculta el contenido del tr√°fico (payload), lo que limita la visibilidad del IDS y dificulta el monitoreo de la seguridad.", "La criptograf√≠a solo afecta al rendimiento de la red, no al monitoreo."], answer: "La criptograf√≠a oculta el contenido del tr√°fico (payload), lo que limita la visibilidad del IDS y dificulta el monitoreo de la seguridad.", explanation: "El cifrado protege la confidencialidad, pero como efecto secundario, ciega a las herramientas de monitoreo que necesitan inspeccionar el contenido de los paquetes." },
            { question: "En un peritaje inform√°tico, es fundamental mantener un registro detallado de qui√©n ha manejado la evidencia, cu√°ndo y con qu√© prop√≥sito, para garantizar su integridad y admisibilidad en un proceso legal. ¬øC√≥mo se denomina a este registro documentado?", options: ["Imagen forense.", "Cadena de custodia.", "An√°lisis de malware."], answer: "Cadena de custodia.", explanation: "La cadena de custodia es crucial para demostrar que la evidencia no ha sido alterada y es admisible en un tribunal." },
            { question: "Un tipo de malware se disfraza como un programa leg√≠timo (por ejemplo, un videojuego o una herramienta de limpieza), pero al ser ejecutado, realiza acciones maliciosas en segundo plano, como abrir una puerta trasera en el sistema. ¬øQu√© clasificaci√≥n recibe este tipo de software?", options: ["Gusano (Worm).", "Troyano (Trojan Horse).", "Adware."], answer: "Troyano (Trojan Horse).", explanation: "Al igual que el Caballo de Troya mitol√≥gico, este malware enga√±a al usuario para que lo instale voluntariamente al parecer inofensivo." },
            { question: "Un empleado recibe un correo electr√≥nico con un archivo adjunto de Word. Al abrirlo, un script malicioso (macro) se ejecuta e instala ransomware en el equipo. ¬øCu√°l es una medida preventiva clave contra este m√©todo de infecci√≥n?", options: ["Desfragmentar el disco duro regularmente.", "Deshabilitar la ejecuci√≥n autom√°tica de macros en documentos de Office provenientes de fuentes no confiables.", "Aumentar el tama√±o del archivo de paginaci√≥n del sistema."], answer: "Deshabilitar la ejecuci√≥n autom√°tica de macros en documentos de Office provenientes de fuentes no confiables.", explanation: "Las macros son una v√≠a de infecci√≥n com√∫n. Deshabilitarlas por defecto de fuentes no confiables es una defensa fundamental." },
            { question: "Una empresa establece una pol√≠tica de retenci√≥n de datos que define que la informaci√≥n personal de los clientes debe ser eliminada de forma segura despu√©s de 5 a√±os. Esta es una estrategia de:", options: ["Continuidad del negocio.", "Aseguramiento y protecci√≥n de datos, cumpliendo con principios de gobernanza.", "Respuesta a incidentes."], answer: "Aseguramiento y protecci√≥n de datos, cumpliendo con principios de gobernanza.", explanation: "Las pol√≠ticas de retenci√≥n son un pilar de la gobernanza de datos, asegurando que la informaci√≥n se maneje de acuerdo con las regulaciones y necesidades del negocio." },
            { question: "Una propuesta de valor en un modelo de negocio, como el 'Canvas Business Model', se enfoca en:", options: ["Describir las actividades clave y los recursos necesarios para operar.", "Definir c√≥mo el producto o servicio resuelve un problema o satisface una necesidad del cliente de una manera √∫nica.", "Analizar la estructura de costos y las fuentes de ingreso de la empresa."], answer: "Definir c√≥mo el producto o servicio resuelve un problema o satisface una necesidad del cliente de una manera √∫nica.", explanation: "La propuesta de valor es el 'porqu√©' un cliente deber√≠a elegir tu producto sobre otros; es el beneficio central que ofreces." },
            { question: "En Costa Rica, un emprendedor que desea formalizar su negocio como persona f√≠sica o jur√≠dica y facturar a sus clientes, debe realizar un proceso de inscripci√≥n fundamental ante ¬øcu√°l instituci√≥n gubernamental?", options: ["El Ministerio de Salud.", "El Ministerio de Hacienda (Tributaci√≥n Directa).", "El Instituto Costarricense de Electricidad (ICE)."], answer: "El Ministerio de Hacienda (Tributaci√≥n Directa).", explanation: "La inscripci√≥n como contribuyente ante Hacienda es el paso esencial para operar legalmente, declarar impuestos y emitir facturas electr√≥nicas." }
        ];

        // --- L√ìGICA DEL QUIZ ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const reviewScreen = document.getElementById('review-screen');
        
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const reviewBtn = document.getElementById('review-btn');
        const backToResultsBtn = document.getElementById('back-to-results-btn');

        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const scoreEl = document.getElementById('score');
        const finalScoreEl = document.getElementById('final-score');
        const feedbackMessageEl = document.getElementById('feedback-message');
        const feedbackContainer = document.getElementById('feedback-container');
        const feedbackTextEl = document.getElementById('feedback-text');
        const timeLeftEl = document.getElementById('time-left');
        const reviewContainer = document.getElementById('review-container');
        const streakIndicator = document.getElementById('streak-indicator');
        const streakCounterEl = document.getElementById('streak-counter');
        const pointsPopup = document.getElementById('points-earned-popup');

        let currentQuestionIndex = 0;
        let score = 0;
        let timerInterval;
        let userAnswers = [];
        let streakCounter = 0;
        const BASE_POINTS = 10; // Puntos por segundo restante

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            resultScreen.classList.add('hidden');
            reviewScreen.classList.add('hidden');
            currentQuestionIndex = 0;
            score = 0;
            streakCounter = 0;
            userAnswers = [];
            scoreEl.textContent = score;
            updateStreakIndicator();
            showQuestion();
        }

        function showQuestion() {
            resetState();
            const question = questions[currentQuestionIndex];
            questionNumberEl.textContent = currentQuestionIndex + 1;
            questionTextEl.textContent = question.question;

            question.options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option-btn', 'w-full', 'p-4', 'text-left', 'bg-slate-700', 'rounded-lg', 'border', 'border-slate-600', 'hover:bg-slate-600', 'transition-colors', 'duration-200');
                button.addEventListener('click', selectAnswer);
                optionsContainer.appendChild(button);
            });
            startTimer();
        }

        function startTimer() {
            let time = 30;
            timeLeftEl.textContent = time;
            timeLeftEl.parentElement.classList.remove('text-red-500');
            timerInterval = setInterval(() => {
                time--;
                timeLeftEl.textContent = time;
                if (time <= 5) {
                    timeLeftEl.parentElement.classList.add('text-red-500');
                }
                if (time <= 0) {
                    clearInterval(timerInterval);
                    handleTimeOut();
                }
            }, 1000);
        }

        function handleTimeOut() {
            streakCounter = 0;
            updateStreakIndicator();
            userAnswers.push({ question: questions[currentQuestionIndex].question, userAnswer: "Sin respuesta", correctAnswer: questions[currentQuestionIndex].answer, isCorrect: false, explanation: questions[currentQuestionIndex].explanation });
            Array.from(optionsContainer.children).forEach(button => {
                if (button.textContent === questions[currentQuestionIndex].answer) button.classList.add('correct');
                button.disabled = true;
            });
            feedbackTextEl.textContent = `¬°Se acab√≥ el tiempo! La respuesta correcta era: ${questions[currentQuestionIndex].answer}`;
            feedbackContainer.classList.remove('hidden');
            enableNextButton();
        }

        function resetState() {
            clearInterval(timerInterval);
            nextBtn.disabled = true;
            nextBtn.classList.remove('bg-cyan-600', 'hover:bg-cyan-700');
            nextBtn.classList.add('bg-gray-500', 'cursor-not-allowed');
            feedbackContainer.classList.add('hidden');
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }

        function selectAnswer(e) {
            clearInterval(timerInterval);
            const selectedBtn = e.target;
            const isCorrect = selectedBtn.textContent === questions[currentQuestionIndex].answer;

            userAnswers.push({ question: questions[currentQuestionIndex].question, userAnswer: selectedBtn.textContent, correctAnswer: questions[currentQuestionIndex].answer, isCorrect: isCorrect, explanation: questions[currentQuestionIndex].explanation });

            if (isCorrect) {
                streakCounter++;
                const pointsEarned = parseInt(timeLeftEl.textContent) * BASE_POINTS;
                const streakBonus = streakCounter >= 2 ? streakCounter : 1;
                const totalPoints = pointsEarned * streakBonus;
                score += totalPoints;
                scoreEl.textContent = score;
                selectedBtn.classList.add('correct');
                showPointsPopup(`+${totalPoints}`);
            } else {
                streakCounter = 0;
                selectedBtn.classList.add('incorrect');
                feedbackTextEl.textContent = `Incorrecto. ${questions[currentQuestionIndex].explanation}`;
                feedbackContainer.classList.remove('hidden');
            }
            
            updateStreakIndicator();

            Array.from(optionsContainer.children).forEach(button => {
                if (button.textContent === questions[currentQuestionIndex].answer && !isCorrect) {
                    button.classList.add('correct');
                }
                button.disabled = true;
            });

            enableNextButton();
        }
        
        function updateStreakIndicator() {
            if (streakCounter >= 2) {
                streakCounterEl.textContent = streakCounter;
                streakIndicator.classList.remove('scale-0');
            } else {
                streakIndicator.classList.add('scale-0');
            }
        }
        
        function showPointsPopup(text) {
            pointsPopup.textContent = text;
            pointsPopup.classList.remove('opacity-0');
            // Reset animation
            pointsPopup.style.animation = 'none';
            pointsPopup.offsetHeight; /* trigger reflow */
            pointsPopup.style.animation = null; 
            pointsPopup.classList.add('points-popup');
            setTimeout(() => {
                pointsPopup.classList.add('opacity-0');
            }, 1400);
        }

        function enableNextButton() {
            nextBtn.disabled = false;
            nextBtn.classList.remove('bg-gray-500', 'cursor-not-allowed');
            nextBtn.classList.add('bg-cyan-600', 'hover:bg-cyan-700');
        }

        function showNextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            finalScoreEl.textContent = score.toLocaleString('es-CR');

            const correctAnswers = userAnswers.filter(a => a.isCorrect).length;
            const percentage = (correctAnswers / questions.length) * 100;
            let feedback = '';
            if (percentage >= 90) feedback = '¬°Excelente trabajo! Tienes un dominio impresionante de los conceptos.';
            else if (percentage >= 70) feedback = '¬°Muy bien! Tienes una base s√≥lida. Sigue repasando para perfeccionar.';
            else if (percentage >= 50) feedback = '¬°Vas por buen camino! Identifica las √°reas que necesitas reforzar y sigue estudiando.';
            else feedback = 'Es un buen comienzo. Este simulacro te ayudar√° a saber qu√© temas necesitas repasar m√°s.';
            feedbackMessageEl.textContent = feedback;
        }

        function showReview() {
            resultScreen.classList.add('hidden');
            reviewScreen.classList.remove('hidden');
            reviewContainer.innerHTML = '';

            userAnswers.forEach((answer, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.classList.add('p-4', 'bg-slate-900', 'rounded-lg', answer.isCorrect ? 'review-correct' : 'review-incorrect');
                
                let userAnswerHTML = answer.isCorrect 
                    ? `<p class="text-green-400">Tu respuesta: ${answer.userAnswer}</p>`
                    : `<p class="text-red-400">Tu respuesta: ${answer.userAnswer}</p><p class="text-green-400">Respuesta correcta: ${answer.correctAnswer}</p>`;

                reviewItem.innerHTML = `
                    <p class="font-bold text-slate-300 mb-2">Pregunta ${index + 1}: ${answer.question}</p>
                    ${userAnswerHTML}
                    <p class="text-slate-400 mt-2 text-sm"><em>Explicaci√≥n: ${answer.explanation}</em></p>
                `;
                reviewContainer.appendChild(reviewItem);
            });
        }

        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', showNextQuestion);
        restartBtn.addEventListener('click', startQuiz);
        reviewBtn.addEventListener('click', showReview);
        backToResultsBtn.addEventListener('click', () => {
            reviewScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        });

    </script>
</body>
</html>